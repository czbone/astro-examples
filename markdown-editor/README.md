# Markdown エディタ

Astroで構築された、シンプルで使いやすいMarkdownエディタです。左側でMarkdownを編集し、右側でリアルタイムのプレビューを確認できます。

## 主な機能

- **分割表示**: 左側で編集、右側でプレビューのリアルタイム表示
- **画像アップロード**: ドラッグ＆ドロップで簡単に画像をアップロード
- **PDFファイルリンク**: ドラッグ＆ドロップでPDFファイルをアップロードし、クリック可能なリンクとして挿入
- **YouTube動画埋め込み**: YouTube URLを貼り付けるだけで自動的に埋め込み表示
- **GitHub風スタイリング**: 美しいGitHub風のMarkdownプレビュー
- **シンプルなUI**: 直感的で使いやすいインターフェース

## 技術スタック

- [Astro](https://astro.build/) - Webサイトビルドフレームワーク
- [React](https://reactjs.org/) - UIコンポーネント
- [TypeScript](https://www.typescriptlang.org/) - 型安全な開発
- [marked](https://marked.js.org/) - Markdownパーサー

## 必要環境

- Node.js v18以上
- pnpm v10.5.2以上（推奨）

## インストール

```bash
cd astro-markdown-editor

# 依存関係のインストール
pnpm install
```

## 開発手順

```bash
# 開発サーバーの起動
pnpm dev

# プロダクションビルド
pnpm build

# プロダクションサーバーの起動
pnpm start

# コードフォーマット
pnpm format

# リント実行
pnpm lint
```

## プロジェクト構造

```
astro-markdown-editor/
├── public/
│   └── uploads/      # アップロードされたファイル（画像・PDF）が保存されるディレクトリ
├── src/
│   ├── components/
│   │   └── MarkdownEditor.tsx  # メインのエディタコンポーネント
│   ├── pages/
│   │   ├── api/
│   │   │   └── upload.ts       # ファイルアップロード用APIエンドポイント
│   │   └── index.astro         # メインページ
```

## 使用方法

1. エディタの左側のテキストエリアにMarkdown形式でテキストを入力します
2. 入力したMarkdownのプレビューが右側に表示されます
3. 画像をエディタ領域にドラッグ＆ドロップすると自動的にアップロードされ、Markdown形式で挿入されます
4. PDFファイルをドラッグ＆ドロップすると自動的にアップロードされ、クリック可能なリンクとして挿入されます
5. YouTubeのURLを入力すると、プレビュー側に自動的に埋め込みプレーヤーが表示されます

## 開発環境と本番環境

- **開発環境** (`pnpm dev`): 開発中に使用する環境です。ホットリロードが有効なため、変更が即座に反映されます。
- **本番環境** (`pnpm start`): ビルド済みのアプリケーションを本番用サーバーで実行します。パフォーマンスが最適化されています。

## 対応しているMarkdown構文

- 見出し（`# 見出し`）
- リスト（`- アイテム`）
- 番号付きリスト（`1. アイテム`）
- コードブロック（\```言語\```）
- 表
- 引用（`> 引用`）
- リンク（`[テキスト](URL)`）
- 画像（`![代替テキスト](画像URL)`）
- 強調（`**太字**`、`*斜体*`）
- YouTube動画（URLをそのまま貼り付け）

## ファイルアップロード機能

### 画像アップロード
画像ファイルをエディタ領域にドラッグ＆ドロップすると、自動的にアップロードされ、Markdown形式で挿入されます。

### PDFファイルアップロード
PDFファイルをエディタ領域にドラッグ＆ドロップすると、自動的にアップロードされ、クリック可能なリンクとして挿入されます。リンクをクリックすると、PDFファイルが新しいタブで開きます。

## YouTube動画の埋め込み

以下の形式のYouTube URLを入力するだけで、自動的に埋め込みプレーヤーが表示されます：

```
https://www.youtube.com/watch?v=XXXXXXXXXXX
```

または

```
https://youtu.be/XXXXXXXXXXX
```

特別なマークダウン記法は必要ありません。URLをそのまま入力するだけです。

## ライセンス

MIT
